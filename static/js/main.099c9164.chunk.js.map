{"version":3,"sources":["components/footer/footer.styles.ts","components/footer/footer.tsx","atom.tsx","components/clock/clock.styles.ts","sounds/alarm.mp3","components/clock/timer.tsx","components/clock/clock.tsx","components/App.styles.ts","components/App.tsx","index.tsx"],"names":["SourceLink","styled","div","Footer","href","target","rel","ClockAtom","atom","key","default","paused","started","session","break","onBreak","CounterAtom","LengthSelectionContainer","LengthSelection","TimerContainer","Button","button","Timer","timer","useRef","useSound","alarmSound","interrupt","play","stop","useRecoilState","clock","setClock","counter","setCounter","useEffect","current","setTimeout","Stop","clearTimeout","Start","Reset","Clock","time","handleBreak","val","handleSession","onClick","Math","floor","toString","padStart","disabled","AppContainer","Title","a","App","GlobalStyle","createGlobalStyle","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.099c9164.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const SourceLink = styled.div`\n  width: 100%;\n  text-align: center;\n  padding-bottom: 20px;\n  a {\n    position:absolute;\n    right:0;\n    bottom:0;\n    margin: .5em;\n    padding: .1em .5em;\n    background-color: #40798C;\n    border: 2px solid #40798C;\n    border-radius: 4px;\n    user-select: none;\n    color: #CFD7C7;\n    font-size: 1.25em;\n    font-weight: 300;\n    text-decoration: none;\n    :hover {\n      border-color:#4391ab;\n      color: #F6F1D1;\n    }\n    :active{\n    background-color:#70A9A1;\n    }\n  }\n`;","import { SourceLink } from './footer.styles';\n\nexport const Footer = (): JSX.Element => {\n  return (\n    <SourceLink>\n      <a href=\"https://github.com/pdkkid/25-5-Clock\" target=\"_blank\" rel=\"noreferrer noopener\">Source</a>\n    </SourceLink>\n  );\n};\n","import { atom } from \"recoil\";\n\nexport const ClockAtom = atom({\n    key: 'clock',\n    default: {\n        paused: true,\n        started: false,\n        session: 25,\n        break: 5,\n        onBreak: false,\n    },\n})\n\nexport const CounterAtom = atom({\n    key: 'counter',\n    default: 20,\n});","import styled from \"styled-components\";\n\nexport const LengthSelectionContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const LengthSelection = styled.div`\n  padding: 20px;\n  margin: 50px 20px;\n  font-size: 1.25em;\n  text-align: center;\n  border: 4px solid #40798c;\n  border-radius: 5px;\n  div {\n    display: flex;\n    flex-direction: row;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    p {\n      padding: 0 8px;\n    }\n  }\n`;\n\nexport const TimerContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n  div {\n    min-width: 200px;\n    width: 35%;\n    padding: 15px 0 15px 0;\n    font-size: 1.75em;\n    border: 6px solid #40798c;\n    border-radius: 10px;\n    p {\n      font-size: 1.75em;\n    }\n    button {\n      margin: 0 8px 0 8px;\n    }\n  }\n`;\n\nexport const Button = styled.button`\n  border:1.5px solid #40798C;\n  border-radius: 6px;\n  text-decoration:none;\n  color:#CFD7C7;\n  background-color:#40798C;\n  text-align:center;\n  padding: 4px 8px;\n  font-weight: 500;\n  font-size: .75em;\n  :hover:enabled{\n    border-color:#4391ab;\n    color: #F6F1D1;\n  }\n  :active{\n    background-color:#70A9A1;\n  }\n  :disabled{\n    opacity: 50%;\n    cursor: not-allowed;\n    pointer-events: all !important;\n  }\n`;","export default __webpack_public_path__ + \"static/media/alarm.9c5eda12.mp3\";","import { useRef, useEffect } from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport useSound from \"use-sound\";\nimport { TimerType } from \"./clock.types\";\nimport { ClockAtom, CounterAtom } from \"../../atom\";\nimport alarmSound from '../../sounds/alarm.mp3';\n\nexport const Timer = (): TimerType => {\n    const timer = useRef<unknown>(null);\n  \n    const [ play, { stop } ] = useSound(alarmSound, {interrupt: false})\n    const [clock, setClock] = useRecoilState(ClockAtom);\n    const [counter, setCounter] = useRecoilState(CounterAtom);\n  \n    const timerEnd = () => {\n      if (clock.onBreak) {\n        play()\n        setCounter(clock.session * 60);\n        setClock({ ...clock, onBreak: false});\n      } else {\n        play()\n        setCounter(clock.break * 60);\n        setClock({ ...clock, onBreak: true});\n      }\n    };\n\n    useEffect(() => {\n        if (!clock.paused) {\n          if (counter <= 0) {\n            timerEnd();\n            return;\n          }\n          timer.current = setTimeout(() => setCounter(counter - 30), 1000);\n        }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      }, [clock.paused, counter, setCounter]);\n  \n    const stopCounter = () => {\n      clearTimeout(timer.current as number);\n      setClock({ ...clock, paused: true });\n    };\n  \n    const startCounter = () => {\n      setClock({ ...clock, paused: false, started: true });\n    };\n  \n    const reset = () => {\n      stop()\n      clearTimeout(timer.current as number);\n      setCounter(clock.session * 60);\n      setClock({ ...clock, onBreak: false, paused: true, started: false});\n    };\n  \n    return {\n      Stop: stopCounter,\n      Start: startCounter,\n      Reset: reset,\n    };\n  };","import { Fragment, useEffect } from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport { ClockAtom, CounterAtom } from \"../../atom\";\nimport {LengthSelectionContainer, LengthSelection, TimerContainer, Button} from './clock.styles';\nimport { Timer } from './timer'\n\n\nconst formatTime = (time: number): string => {\n  var m: string = Math.floor(time / 60)\n      .toString()\n      .padStart(2, \"0\"),\n    s: string = Math.floor(time % 60)\n      .toString()\n      .padStart(2, \"0\");\n\n  return m + \":\" + s;\n};\n\nexport const Clock = (): JSX.Element => {\n  const [clock, setClock] = useRecoilState(ClockAtom);\n  const [counter, setCounter] = useRecoilState(CounterAtom); \n  const timer = Timer();\n\n  useEffect(() => {\n    if (!clock.started) {\n      setCounter(clock.session * 60);\n    }\n  }, [clock.started, clock.session, setCounter]);\n\n  const handleBreak = (val: number) => {\n    if (clock.break + val <= 0 || clock.break + val > 60) {\n      return;\n    }\n    setClock({ ...clock, break: clock.break + val });\n  };\n\n  const handleSession = (val: number) => {\n    if (clock.session + val <= 0 || clock.session + val > 60) {\n      return;\n    }\n    setClock({ ...clock, session: clock.session + val });\n  };\n\n  return (\n    <Fragment>\n      <LengthSelectionContainer>\n        <LengthSelection>\n          <p>Break Length</p>\n          <div>\n          <Button onClick={() => handleBreak(-1)}>{'<'}</Button>\n          <p>{clock.break}</p>\n          <Button onClick={() => handleBreak(1)}>{'>'}</Button>\n          </div>\n        </LengthSelection>\n        <LengthSelection>\n          <p>Session Length</p>\n          <div>\n          <Button onClick={() => handleSession(-1)}>{'<'}</Button>\n          <p>{clock.session}</p>\n          <Button onClick={() => handleSession(1)}>{'>'}</Button>\n          </div>\n        </LengthSelection>\n      </LengthSelectionContainer>\n      <TimerContainer>\n        <div>\n          {clock.onBreak ? \"Break\" : \"Session\"}\n          <p>{formatTime(counter)}</p>\n          <Button disabled={clock.paused} onClick={() => timer.Stop()}>\n            Stop\n          </Button>\n          <Button disabled={!clock.paused} onClick={() => timer.Start()}>\n            Start\n          </Button>\n          <Button disabled={!clock.started} onClick={() => timer.Reset()}>\n            Reset\n          </Button>\n        </div>\n      </TimerContainer>\n    </Fragment>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const AppContainer = styled.div`\ndisplay: flex;\nflex-direction: column;\ncolor: #cfd7c7;\nuser-select: none;\n`;\n\nexport const Title = styled.a`\ndisplay: flex;\nflex-direction: column;\ntext-align: center;\nfont-size: 3.5em;\npadding-top: 20px;\n`;","import { Footer } from \"./footer\";\nimport { Clock } from \"./clock\";\nimport React from \"react\";\nimport { AppContainer, Title} from './App.styles';\n\nexport const App = (): JSX.Element => {\n  return (\n    <AppContainer>\n      <Title>25 + 5 Clock</Title>\n      <Clock />\n      <Footer />\n    </AppContainer>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { RecoilRoot } from 'recoil';\nimport { createGlobalStyle } from 'styled-components';\nimport { App } from './components/App';\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    margin: 0;\n    background: #1A1B25;\n    font-family: \"Open Sans\", sans-serif !important;\n  }\n`\n\nReactDOM.render(\n  <React.StrictMode>\n    <RecoilRoot>\n      <GlobalStyle/>\n      <App/>\n    </RecoilRoot>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}